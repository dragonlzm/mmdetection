docker run --runtime=nvidia --ipc=host -itd -v /data/nfs/:/nfs e182479fb4ce /bin/bash

bash tools/new_dist_train.sh configs/classification_transfer_model/classification_transfer_model_1x_coco.py 2 /nfs/liuzhuoming/fewshot_test /nfs/data

bash tools/new_dist_train.sh configs/classification_transfer_model/classification_transfer_model_no_avg_pooling_1x_coco.py 2 /nfs/liuzhuoming/fewshot_test /nfs/data

bash tools/new_dist_train.sh configs/classification_transfer_model/classification_transfer_model_1x_coco_load_local.py 2 /nfs/liuzhuoming/fewshot_test /nfs/data

bash tools/new_dist_train.sh configs/classification_transfer_model/classification_transfer_model_1x_coco_pytorch.py 2 /nfs/liuzhuoming/fewshot_test /nfs/data

bash tools/dist_train.sh configs/faster_rcnn/faster_rcnn_r50_caffe_fpn_1x_coco.py 2 /nfs/liuzhuoming/fewshot_test /nfs/data


ln -sf /nfs/data /nfs/liuzhuoming/fewshot_test/mmfewshot-main/data

bash tools/detection/dist_train.sh configs/detection/tfa/coco/tfa_faster_rcnn_r101_fpn_coco_base_training.py 4 --work-dir=/nfs/liuzhuoming/fewshot_test/mmfewshot_res/

bash tools/detection/dist_test.sh configs/detection/tfa/coco/tfa_faster_rcnn_r101_fpn_coco_10shot_ft.py ????checkpoint_path 4 --eval=bbox --gpu-collect




# adapt clip
## test mmmdetection code
bash tools/new_dist_train.sh configs/faster_rcnn/faster_rcnn_r50_fpn_1x_coco.py 4 /nfs/liuzhuoming/mmdet_test /nfs/data

bash tools/new_dist_train.sh configs/mask_rcnn/mask_rcnn_r50_fpn_1x_coco.py 4 /nfs/liuzhuoming/mmdet_test /nfs/data

bash tools/new_dist_train.sh configs/mask_rcnn/mask_rcnn_r50_fpn_1x_coco_cls_ag.py 4 /nfs/liuzhuoming/mmdet_test /nfs/data
